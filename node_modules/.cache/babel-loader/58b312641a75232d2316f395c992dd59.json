{"remainingRequest":"/Users/lorenz/Documents/code/parley/node_modules/babel-loader/lib/index.js!/Users/lorenz/Documents/code/parley/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lorenz/Documents/code/parley/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lorenz/node_modules/v-calendar-scheduler/components/views/Month.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lorenz/node_modules/v-calendar-scheduler/components/views/Month.vue","mtime":1527292371000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nimport { EventBus } from \"../EventBus\";\nimport EventItem from \"../EventItem\";\nimport IsView from \"../mixins/IsView\";\nexport default {\n  name: \"month\",\n  mixins: [IsView],\n  components: {\n    EventItem: EventItem\n  },\n  data: function data() {\n    return {\n      weekdays: moment.weekdaysShort(),\n      calendar: []\n    };\n  },\n  mounted: function mounted() {\n    this.buildCalendar();\n  },\n  methods: {\n    dayClicked: function dayClicked(day) {\n      EventBus.$emit('day-clicked', day.d.toDate());\n    },\n    buildCalendar: function buildCalendar() {\n      var _this = this;\n\n      this.calendar = [];\n      var temp = moment(this.activeDate).date(1);\n      var monthStart = moment(temp);\n      var m = temp.month();\n      var now = moment();\n      this.days = [];\n\n      var _loop = function _loop() {\n        // console.log(temp.toDate());\n        var day = moment(temp);\n        var newDay = {\n          d: day,\n          isPast: temp.isBefore(now, 'day'),\n          isToday: temp.isSame(now, 'day'),\n          isDisabled: _this.isDayDisabled(temp),\n          events: _this.events.filter(function (e) {\n            return moment(e.date).isSame(day, 'day');\n          }).sort(function (a, b) {\n            if (!a.startTime) return -1;\n            if (!b.startTime) return 1;\n            return moment(a.startTime, 'HH:mm').format('HH') - moment(b.startTime, 'HH:mm').format('HH');\n          })\n        };\n\n        _this.days.push(newDay);\n\n        temp.add(1, 'day');\n      };\n\n      do {\n        _loop();\n      } while (temp.month() === m);\n\n      var items = [];\n      var paddingOffset = 1; // Some padding at the beginning\n\n      for (var p = 0; p < moment(this.activeDate).date(1).weekday(); p++) {\n        items.unshift({\n          d: moment(monthStart).subtract(paddingOffset, 'day'),\n          isPast: true,\n          isToday: false,\n          isDifferentMonth: true\n        });\n        paddingOffset++;\n      } // Merge in the array of days\n\n\n      items.push.apply(items, this.days); // Some padding at the end if required\n\n      if (items.length % 7) {\n        for (var _p = 7 - items.length % 7; _p > 0; _p--) {\n          items.push({\n            d: moment(temp),\n            isPast: true,\n            isToday: false,\n            isDifferentMonth: true\n          });\n          temp.add(1, 'day');\n        }\n      } // Split the array into \"chunks\" of seven\n\n\n      this.calendar = items.map(function (e, i) {\n        return i % 7 === 0 ? items.slice(i, i + 7) : null;\n      }).filter(function (e) {\n        return e;\n      });\n    }\n  }\n};",{"version":3,"sources":["Month.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <section class=\"v-cal-content\">\r\n        <div class=\"v-cal-weekdays\">\r\n            <div class=\"v-cal-weekday-item\" v-for=\"weekday in weekdays\">{{ weekday }}</div>\r\n        </div>\r\n        <div class=\"v-cal-days\" v-for=\"row in calendar\">\r\n\r\n            <div :ref=\"'days.day_' + day.d.format('DDD')\" class=\"v-cal-day v-cal-day--month\"\r\n                 @click=\"dayClicked(day)\"\r\n                 :class=\"{\r\n                 'is-today': day.isToday,\r\n                 'is-past': day.isPast,\r\n                 'is-disabled': day.isDisabled,\r\n                 'is-different-month': day.isDifferentMonth }\" v-for=\"day in row\">\r\n                <span class=\"v-cal-day__number\">{{ day.d.date() }}</span>\r\n                <div class=\"v-cal-event-list\">\r\n                    <event-item\r\n                            v-for=\"event, index in day.events\"\r\n                            :key=\"index\"\r\n                            :has-dynamic-size=\"false\"\r\n                            :event=\"event\"\r\n                            :use12=\"use12\"\r\n                    >\r\n                    </event-item>\r\n                    <!--@click.stop=\"eventBus.$emit('event-clicked', event)\" -->\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import moment from 'moment';\r\n    import { EventBus } from '../EventBus';\r\n    import EventItem from '../EventItem';\r\n    import IsView from '../mixins/IsView';\r\n\r\n    export default {\r\n        name: \"month\",\r\n        mixins: [ IsView ],\r\n        components: { EventItem },\r\n        data() {\r\n            return {\r\n                weekdays: moment.weekdaysShort(),\r\n                calendar: [],\r\n            }\r\n        },\r\n        mounted() {\r\n            this.buildCalendar();\r\n        },\r\n        methods: {\r\n            dayClicked(day) {\r\n                EventBus.$emit('day-clicked', day.d.toDate())\r\n            },\r\n            buildCalendar() {\r\n                this.calendar = [];\r\n\r\n                let temp = moment( this.activeDate ).date( 1 );\r\n                const monthStart = moment(temp);\r\n                let m = temp.month();\r\n                let now = moment();\r\n\r\n                this.days = [];\r\n\r\n                do {\r\n                    // console.log(temp.toDate());\r\n                    const day = moment(temp);\r\n                    let newDay = {\r\n                        d: day,\r\n                        isPast: temp.isBefore( now, 'day' ),\r\n                        isToday: temp.isSame( now, 'day' ),\r\n                        isDisabled: this.isDayDisabled(temp),\r\n                        events: this.events.filter( e => moment(e.date).isSame(day, 'day') )\r\n                            .sort( (a, b) => {\r\n                                if ( !a.startTime ) return -1;\r\n                                if ( !b.startTime ) return 1;\r\n                                return moment(a.startTime, 'HH:mm').format('HH') - moment(b.startTime, 'HH:mm').format('HH');\r\n                            })\r\n                    };\r\n                    this.days.push(newDay);\r\n\r\n                    temp.add( 1, 'day' );\r\n                } while ( temp.month() === m );\r\n\r\n                let items = [];\r\n\r\n                let paddingOffset = 1;\r\n                // Some padding at the beginning\r\n                for ( let p = 0; p < moment( this.activeDate ).date( 1 ).weekday(); p++ )\r\n                {\r\n                    items.unshift({\r\n                        d: moment(monthStart).subtract(paddingOffset, 'day'),\r\n                        isPast: true,\r\n                        isToday: false,\r\n                        isDifferentMonth: true,\r\n                    });\r\n\r\n                    paddingOffset++;\r\n                }\r\n\r\n                // Merge in the array of days\r\n                items.push.apply( items, this.days );\r\n\r\n                // Some padding at the end if required\r\n                if ( items.length % 7 ) {\r\n                    for ( let p = ( 7 - ( items.length % 7 ) ); p > 0; p-- )\r\n                    {\r\n                        items.push({\r\n                            d : moment(temp),\r\n                            isPast: true,\r\n                            isToday: false,\r\n                            isDifferentMonth: true,\r\n                        });\r\n                        temp.add( 1, 'day' );\r\n                    }\r\n                }\r\n\r\n                // Split the array into \"chunks\" of seven\r\n                this.calendar  = items.map( function( e, i ) {\r\n                    return i % 7 === 0 ? items.slice( i, i + 7 ) : null;\r\n                }).filter( function( e ) { return e; } );\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"../../../node_modules/v-calendar-scheduler/components/views"}]}