{"remainingRequest":"/Users/lorenz/Documents/code/parley/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lorenz/node_modules/v-calendar-scheduler/components/dialog/EventDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lorenz/node_modules/v-calendar-scheduler/components/dialog/EventDialog.vue","mtime":1529439629000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lorenz/Documents/code/parley/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Event from '../../model/Event';\nimport moment from 'moment';\nimport EventDialogInput from './EventDialogInput';\nexport default {\n    components: { EventDialogInput },\n    props: {\n        title: String,\n        inputClass: String,\n        overrideInputClass: Boolean,\n        fields: Array,\n        createButtonLabel: String,\n    },\n    data() {\n        return {\n            isActive: false,\n            event: {}\n        }\n    },\n    beforeMount() {\n        let plainEvent = {};\n        this.fields.map( field => {\n            if ( !field.fields )\n                plainEvent[field.name] = field.value;\n            else {\n                const fields = field.fields;\n                fields.map( field => {\n                    if ( field.type === 'time' ) {\n                        plainEvent[field.name] = field.value ? moment(field.value, 'HH:mm') : null\n                    } else\n                        plainEvent[field.name] = field.value;\n                })\n            }\n        });\n\n        this.event = new Event(plainEvent);\n        //  Insert the Dialog component in body tag\n        document.body.appendChild(this.$el);\n    },\n    mounted() {\n        this.isActive = true;\n    },\n    methods: {\n        saveEvent() {\n            this.$emit('event-created', this.event);\n            this.close();\n        },\n        cancel() {\n            this.close();\n        },\n        close() {\n            this.isActive = false;\n            // Timeout for the animation complete before destroying\n            setTimeout(() => {\n                this.$destroy();\n                this.$el.remove();\n            }, 150);\n        },\n    }\n}\n",{"version":3,"sources":["EventDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EventDialog.vue","sourceRoot":"../../../node_modules/v-calendar-scheduler/components/dialog","sourcesContent":["<template>\r\n    <transition name=\"zoom-out\">\r\n        <div class=\"v-cal-dialog\" v-if=\"isActive\">\r\n            <div class=\"v-cal-dialog__bg\" @click=\"cancel\"></div>\r\n            <div class=\"v-cal-dialog-card\">\r\n                <form @submit.prevent=\"saveEvent\">\r\n                    <header class=\"v-cal-dialog-card__header\">\r\n                        <h5 class=\"v-cal-dialog__title\">{{ title }}</h5>\r\n                        <button type=\"button\" class=\"v-cal-dialog__close\" @click=\"cancel\"></button>\r\n                    </header>\r\n                    <section class=\"v-cal-dialog-card__body\">\r\n                        <div class=\"v-cal-fields\">\r\n                            <template v-for=\"field, index in fields\">\r\n                                <event-dialog-input v-model=\"event[field.name]\" :key=\"field.name + '-' + index\" :field=\"field\" v-if=\"!field.fields\"/>\r\n                                <div class=\"v-cal-input-group\" v-else>\r\n                                    <label v-if=\"field.label\">{{ field.label }}</label>\r\n                                    <event-dialog-input v-model=\"event[subfield.name]\" :key=\"subfield.name + '-' + index\" :field=\"subfield\" v-for=\"subfield, index in field.fields\"/>\r\n                                </div>\r\n                            </template>\r\n                        </div>\r\n                    </section>\r\n                    <footer class=\"v-cal-dialog-card__footer\">\r\n                        <button type=\"submit\" class=\"v-cal-button is-rounded is-primary\">{{ createButtonLabel }}</button>\r\n                    </footer>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n\r\n<script>\r\n    import Event from '../../model/Event';\r\n    import moment from 'moment';\r\n    import EventDialogInput from './EventDialogInput';\r\n    export default {\r\n        components: { EventDialogInput },\r\n        props: {\r\n            title: String,\r\n            inputClass: String,\r\n            overrideInputClass: Boolean,\r\n            fields: Array,\r\n            createButtonLabel: String,\r\n        },\r\n        data() {\r\n            return {\r\n                isActive: false,\r\n                event: {}\r\n            }\r\n        },\r\n        beforeMount() {\r\n            let plainEvent = {};\r\n            this.fields.map( field => {\r\n                if ( !field.fields )\r\n                    plainEvent[field.name] = field.value;\r\n                else {\r\n                    const fields = field.fields;\r\n                    fields.map( field => {\r\n                        if ( field.type === 'time' ) {\r\n                            plainEvent[field.name] = field.value ? moment(field.value, 'HH:mm') : null\r\n                        } else\r\n                            plainEvent[field.name] = field.value;\r\n                    })\r\n                }\r\n            });\r\n\r\n            this.event = new Event(plainEvent);\r\n            //  Insert the Dialog component in body tag\r\n            document.body.appendChild(this.$el);\r\n        },\r\n        mounted() {\r\n            this.isActive = true;\r\n        },\r\n        methods: {\r\n            saveEvent() {\r\n                this.$emit('event-created', this.event);\r\n                this.close();\r\n            },\r\n            cancel() {\r\n                this.close();\r\n            },\r\n            close() {\r\n                this.isActive = false;\r\n                // Timeout for the animation complete before destroying\r\n                setTimeout(() => {\r\n                    this.$destroy();\r\n                    this.$el.remove();\r\n                }, 150);\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .zoom-out-enter-active,\r\n    .zoom-out-leave-active {\r\n        transition: opacity 150ms ease-out;\r\n    }\r\n    .zoom-out-enter-active .animation-content,\r\n    .zoom-out-enter-active .animation-content,\r\n    .zoom-out-leave-active .animation-content,\r\n    .zoom-out-leave-active .animation-content {\r\n        transition: transform 150ms ease-out;\r\n    }\r\n\r\n    .zoom-out-enter,\r\n    .zoom-out-leave-active {\r\n        opacity: 0;\r\n    }\r\n    .zoom-out-enter .animation-content,\r\n    .zoom-out-enter .animation-content,\r\n    .zoom-out-leave-active .animation-content,\r\n    .zoom-out-leave-active .animation-content {\r\n        transform: scale(1.05);\r\n    }\r\n</style>"]}]}